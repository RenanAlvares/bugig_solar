{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='style/menu_benef.css') }}">

<main id="benef-main">
  <div class="dashboard" id="dashboard-container">

    <!-- üîÜ Cabe√ßalho Energizado -->
    <div id="energy-header">
      <h1>Painel do Benefici√°rio</h1>
      <p>Bem-vindo(a)! Gerencie seus benef√≠cios e explore novas possibilidades.</p>
    </div>

    <!-- üí≥ Cards Principais -->
    <div class="dashboard-cards">
      <a href="{{ url_for('auth.get_in_queue', user_id=user_id)}}" class="card">
        <div class="card-icon"><i class="fa-solid fa-users-line"></i></div>
        <h3>Entrar na Fila</h3>
        <p>Garanta seu lugar para receber os pr√≥ximos cr√©ditos de energia.</p>
      </a>

      <a href="#" class="card">
        <div class="card-icon"><i class="fa-solid fa-chart-pie"></i></div>
        <h3>Meus Relat√≥rios</h3>
        <p>Acompanhe seu hist√≥rico de cr√©ditos e a economia gerada.</p>
      </a>

      <!-- ‚ö° Simulador de Economia -->
      <a href="#" class="card simulador-card">
        <div class="card-icon"><i class="fa-solid fa-calculator"></i></div>
        <h3>Simulador de Economia</h3>
        <p>Calcule o quanto voc√™ pode economizar na sua conta de luz.</p>

        <div class="simulador">
          <label for="valorConta">üí∞ Valor da Conta (R$)</label>
          <input type="number" id="valorConta" placeholder="Ex: 350" min="0">

          <!-- üîò Bot√µes -->
          <div class="simulador-btns">
            <button id="calcularBtn">Calcular</button>
            <button id="verGraficoBtn" class="btn-secundario">Ver Gr√°fico</button>
          </div>

          <!-- üìä Resultados -->
          <div id="resultadoSimulador" class="resultado">
            <h4>Resultados Estimados:</h4>
            <p><strong>Economia Mensal:</strong> <span id="economiaValor">‚Äî</span></p>
            <p><strong>kWh Economizados:</strong> <span id="kwhEconomia">‚Äî</span></p>
            <p><strong>CO‚ÇÇ Evitado:</strong> <span id="co2Evitado">‚Äî</span></p>
            <p><strong>Economia Anual:</strong> <span id="economiaAnual">‚Äî</span></p>
          </div>
        </div>
      </a>

      <a href="{{ url_for('auth.edit_user', user_id=user_id) }}" class="card">
        <div class="card-icon"><i class="fa-solid fa-user-pen"></i></div>
        <h3>Editar Perfil</h3>
        <p>Mantenha seus dados cadastrais sempre atualizados.</p>
      </a>
    </div>

    <!-- üé® GR√ÅFICO INTERATIVO -->
    <section id="graficoContainer" class="grafico-container">
      <div id="graficoPlaceholder" class="grafico-placeholder">
        ‚ö° Nenhum c√°lculo realizado ainda.<br>
        Insira um valor e clique em <strong>Calcular</strong> para gerar o gr√°fico.
      </div>
      <canvas id="graficoEconomia" style="display: none; width:100%; height:400px;"></canvas>
    </section>

    <!-- üåû Se√ß√£o Motivacional -->
    <section id="cta-benef">
      <h2>Transforme sua conta de luz em <span>economia real</span>.</h2>
      <p>Com a BugigSolar, cada kWh conta ‚Äî e o futuro √© sustent√°vel.</p>
      <a href="{{ url_for('auth.get_in_queue', user_id=user_id)}}" class="lp-button">Come√ßar Agora</a>
    </section>

  </div>

  <!-- Scripts -->
  <script src="{{ url_for('static', filename='js/menu_benef.js') }}"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</main>
{% endblock %}
